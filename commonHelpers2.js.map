{"version":3,"file":"commonHelpers2.js","sources":["../src/js/api.js","../src/js/search-form.js","../src/js/pagination.js","../src/js/ivent.js"],"sourcesContent":["import axios from 'axios';\nconst API_KEY = `EOdsm6K9mhOmZa1l14LJSm27TGHT9m32`;\nconst BASE_URL = `https://app.ticketmaster.com/discovery/v2/`;\n//  url:\"https://app.ticketmaster.com/discovery/v2/events.json?size=1&apikey={apikey}\"\n\nexport async function fetchData(page, names){\n    const response = await axios.get(`${BASE_URL}events.json?page=${page}&apikey=${API_KEY}&keyword=${names}`);\n    console.log(response);\n    return response.data;\n};\nfetchData(1);","import { renderData } from \"./ivent\";\nimport { page } from \"./pagination\";\nconst list = document.querySelector(\".list\")\nconst form = document.querySelector(\".search-form\");\nform.addEventListener(\"submit\", handleSubmit);\n\nexport let names = \"\";\n\nfunction handleSubmit(event) {\n    event.preventDefault();  \n    \n     names = event.target.elements.searchQuery.value.trim();\n    console.log(names);\n    list.innerHTML = \"\";\n    renderData(page, names);\n}","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { renderData } from \"./ivent\";\nimport { names } from \"./search-form\";\nconst options = {\n  totalItems: 0,\n  itemsPerPage: 20,\n  visiblePages: 5,\n  page: 1,\n  centerAlign: false,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage: '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>'\n  }\n};\n                         // id div(a) из html |\nconst pagination = new Pagination('pagination', options);\nexport const page = pagination.getCurrentPage()\nexport function reset(totalItems) {\n    pagination.reset(totalItems);\n}\n  pagination.on('afterMove', (event) => {\n     const currentPage = event.page;\n      console.log(currentPage);\n      renderData(currentPage, names);\n});","import { fetchData } from \"./api\";\nimport { page, reset } from \"./pagination\";\nimport { names } from \"./search-form\";\nconst list = document.querySelector(\".list\");\n\nfunction createMarkup(data) {\n    const markup = data\n        .map(({ id, name\n        }) =>\n            `<li id =\"${id}\">\n          \n            <p id = \"${id}\">${name}</p>\n            </li>\n`)\n        \n        .join(\"\");\n    list.innerHTML = markup;\n}\n\nexport async function renderData(page, names) {\n    const data = await fetchData(page, names);\n    console.log(data); \n    if (page === 1) {\n        reset(data.page.totalElements)\n    }\n    \n    createMarkup(data._embedded.events);\n};\nrenderData(page, names);"],"names":["API_KEY","BASE_URL","fetchData","page","names","response","axios","list","form","handleSubmit","event","renderData","options","pagination","Pagination","reset","totalItems","currentPage","createMarkup","data","markup","id","name"],"mappings":"6vBACA,MAAMA,EAAU,mCACVC,EAAW,6CAGV,eAAeC,EAAUC,EAAMC,EAAM,CACxC,MAAMC,EAAW,MAAMC,EAAM,IAAI,GAAGL,CAAQ,oBAAoBE,CAAI,WAAWH,CAAO,YAAYI,CAAK,EAAE,EACzG,eAAQ,IAAIC,CAAQ,EACbA,EAAS,IACpB,CACAH,EAAU,CAAC,ECRX,MAAMK,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAO,SAAS,cAAc,cAAc,EAClDA,EAAK,iBAAiB,SAAUC,CAAY,EAErC,IAAIL,EAAQ,GAEnB,SAASK,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEnBN,EAAQM,EAAM,OAAO,SAAS,YAAY,MAAM,OACjD,QAAQ,IAAIN,CAAK,EACjBG,EAAK,UAAY,GACjBI,EAAWR,EAAMC,CAAK,CAC1B,CCXA,MAAMQ,EAAU,CACd,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,EACN,YAAa,GACb,mBAAoB,kBACpB,kBAAmB,iBACnB,SAAU,CACR,KAAM,gDACN,YAAa,iEACb,WACE,mGAGF,mBACE,gHAGF,WACE,mGAGH,CACH,EAEMC,EAAa,IAAIC,EAAW,aAAcF,CAAO,EAC1CT,EAAOU,EAAW,eAAgB,EACxC,SAASE,EAAMC,EAAY,CAC9BH,EAAW,MAAMG,CAAU,CAC/B,CACEH,EAAW,GAAG,YAAcH,GAAU,CACnC,MAAMO,EAAcP,EAAM,KACzB,QAAQ,IAAIO,CAAW,EACvBN,EAAWM,EAAab,CAAK,CACnC,CAAC,ECpCD,MAAMG,EAAO,SAAS,cAAc,OAAO,EAE3C,SAASW,EAAaC,EAAM,CACxB,MAAMC,EAASD,EACV,IAAI,CAAC,CAAE,GAAAE,EAAI,KAAAC,CACX,IACG,YAAYD,CAAE;AAAA;AAAA,uBAEHA,CAAE,KAAKC,CAAI;AAAA;AAAA,CAEjC,EAEQ,KAAK,EAAE,EACZf,EAAK,UAAYa,CACrB,CAEO,eAAeT,EAAWR,EAAMC,EAAO,CAC1C,MAAMe,EAAO,MAAMjB,EAAUC,EAAMC,CAAK,EACxC,QAAQ,IAAIe,CAAI,EACZhB,IAAS,GACTY,EAAMI,EAAK,KAAK,aAAa,EAGjCD,EAAaC,EAAK,UAAU,MAAM,CACtC,CACAR,EAAWR,EAAMC,CAAK"}